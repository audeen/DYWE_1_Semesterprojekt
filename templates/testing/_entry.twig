{% extends "_layout" %}

{% set start, projekte, opensource, aktuelles, mods, about = '','','','','','' %}

{% set segment = craft.app.request.getSegment(1) %}
{% switch segment %}
    {% case "aktuellesOverview" %}
        {% set aktuelles = 'current' %}
		{% set page_title = 'Aktuelles' %}
		{% set sectionart = craft.entries.section('aktuelles').all() %}
    {% case "projekteOverview" %}
        {% set projekte = 'current' %}
		{% set page_title = 'Projekte' %}
		{% set sectionart = craft.entries.section('projekte').all() %}
    {% case "opensourceOverview" %}
        {% set opensource = 'current' %}
		{% set page_title = 'Open-Source' %}
		{% set sectionart = craft.entries.section('opensource').all() %}
    {% case "modsOverview" %}
        {% set mods = 'current' %}
		{% set page_title = 'Mods' %}
		{% set sectionart = craft.entries.section('mods').all() %}
{% endswitch %}

{% block content %}
    <div class="artikel_3">

        {% if entry.artikel %}
            <div class="headline">{{ entry.title }}</div> 
        {% endif %}

        {% for block in entry.artikel.all() %}
            {% switch block.type %}

                {% case "text" %}

                    {% switch block.textformat %}

                        {% case "teaser" %}
                            <div class="teaser">{{ block.text }}</div>

                        {% case "caption" %}
                            <div class="">{{ block.text }}</div>

                        {% default %}
                            <div class="abody">{{ block.text }}</div>

                    {% endswitch %}

            	{% case "images" %}
                    <div class="">
                        {% for image in block.image.all() %}
                            {% switch block.size %}

                                {% case "smallThumb" %}
                                    <div class="{{ block.quantity }}">
                                        <img src="{{ image.getUrl('smallThumb') }}">
                                    </div>
                                {% case "mediumThumb" %}
                                    <div class="{{ block.quantity }}">
                                        <img src="{{ image.getUrl('mediumThumb') }}">
                                    </div>
                                {% case "largeThumb" %}
                                    <div class="{{ block.quantity }}">
                                        <img src="{{ image.getUrl('largeThumb') }}">
                                    </div>

                            {% endswitch %}                                
                        {% endfor %}
                    </div>

                {% case "pdf" %}

                {% for pdf in block.pdf.all() %}
                    {% switch block.textformat %}
                        {% case "teaser" %}
                            <div class="teaser">{{ block.text }}</div>

                        {% case "caption" %}
                            <div class="">{{ block.text }}</div>

                        {% default %}
                            <div class="abody">{{ block.text }}</div>

                    {% endswitch %}

                    <a href="{{ pdf.getUrl }}" download>
                        <button>Download PDF</button>
                    </a>

                {% endfor %}

                {% case "embedded" %}
                    <div class="">
                        {% switch block.textformat %}

                            {% case "teaser" %}
                                <div class="teaser">{{ block.text }}</div>

                            {% case "caption" %}
                                <div class="">{{ block.text }}</div>

                            {% default %}
                                <div class="abody">{{ block.text }}</div>

                        {% endswitch %}
                        {% switch block.source %}

                            {% case "youtube" %}
                                {% set embeddedAsset = craft.embeddedAssets.get(asset) %}

                                    {% if embed %}
                                {# VIDEOBOX NOCH AKTUELL?? #}
                                        <div id="video-box" class="videobox">
                                            {{ embeddedAsset ? embeddedAsset.html }}
                                        </div>
                                    {% endif %}

                     {#        {% case "soundcloud" %}
                                {% set asset = block.embedded.one() %}
                                {% set embed = craft.embeddedAssets.get(asset) %}
                                    {% if embed %}
                                        <div  class="soundcloud">
                                            {{ embed ? embed.html }}
                                        </div>
                                    {% endif %}
                            {% default %}
                                {% set asset = block.embedded.one() %}
                                {% set embed = craft.embeddedAssets.get(asset) %}
                                    {% if embed %}
                                        <div  class="embedded">
                                            {{ embed ? embed.html }}
                                        </div>
                                    {% endif %} #}
                        {% endswitch %}
                    </div>
                {% endswitch %}
            {% endfor %}
    </div>
{% endblock  %}


